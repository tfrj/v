<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>TFRJ - Full Control</title>
    <style>
        body, html { margin: 0; padding: 0; height: 100%; width: 100%; background: #000; overflow: hidden; }
        iframe { width: 100%; height: 100vh; border: none; }
    </style>
</head>
<body>

<div id="display"></div>

<script>
    // استخدام بروكسي يكسر حماية الـ CORS تماماً
    const targetUrl = 'https://cast2tv.app/';
    const proxy = 'https://corsproxy.io/?' + encodeURIComponent(targetUrl);

    fetch(proxy)
    .then(r => r.text())
    .then(html => {
        const container = document.getElementById('display');
        const iframe = document.createElement('iframe');
        iframe.style.width = "100%";
        iframe.style.height = "100vh";
        // السماح بجميع الصلاحيات للأزرار والسكربتات
        iframe.setAttribute('sandbox', 'allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts');
        iframe.setAttribute('allow', 'display-capture; fullscreen; microphone; camera');
        
        container.appendChild(iframe);
        
        const doc = iframe.contentWindow.document;
        doc.open();
        // حقن قاعدة البيانات الأصلية للموقع لضمان تشغيل السكربتات
        doc.write(`<base href="${targetUrl}">` + html);
        doc.close();
    })
    .catch(err => console.error("فشل الحقن:", err));
</script>

</body>
</html>
